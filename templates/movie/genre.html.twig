{% extends 'base.html.twig' %}

{% block body %}
    <h1>Films {{ genre }}</h1>
    <div class="d-flex flex-wrap gap-3">
        {% if movies is empty %}
            <p>Aucun film {{ genre }} n'est répertorié :(</p>
        {% else %}
            {% for movie in movies %}
                <div class="card" style="width: 200px;">
                    <img itemprop="image" src="https://image.tmdb.org/t/p/w500{{ movie.picture }}"
                         alt="{{ movie.title }}"
                         class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">{{ movie.title }}</h5>
                        {% for genre in movie.genres %}
                            <p> {{ genre }} </p>
                        {% endfor %}
                        <p>{{ movie.releaseDate ? movie.releaseDate|date('d/m/Y') : 'Date inconnue' }}</p>
                        <small>{{ movie.resume|length > 100 ? movie.resume|slice(0, 100) ~ '...' : movie.resume }}</small>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}
